# 🌹 بات ختم جمعی سوره فتح

بات تلگرام برای شرکت در ختم جمعی سوره مبارکه فتح با قابلیت‌های پیشرفته.

## ✨ ویژگی‌ها

- 📖 نمایش آیات سوره فتح با ترجمه فارسی و انگلیسی
- 📊 آمار کلی و روزانه ختم‌ها
- ⏰ یادآوری روزانه قابل تنظیم
- 👥 ختم جمعی با سایر کاربران
- 🔄 ختم خودکار و شروع ختم جدید
- 🔒 Thread-Safe برای چند کاربر همزمان
- 📱 رابط کاربری ساده و دوستانه

## 🚀 نصب و راه‌اندازی

### پیش‌نیازها

- Node.js (نسخه 14 یا بالاتر)
- npm یا yarn
- توکن بات تلگرام

### مراحل نصب

1. **دانلود پروژه**
```bash
git clone https://github.com/your-repo/fath-bot.git
cd fath-bot
```

2. **نصب dependencies**
```bash
npm install
```

3. **تنظیم متغیرهای محیطی**
```bash
cp .env.example .env
```

فایل `.env` را ویرایش کنید:
```env
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_POLLING=true
```

4. **راه‌اندازی بات**
```bash
npm start
```

## 📁 ساختار پروژه

```
fath-bot/
├── bot.js              # فایل اصلی بات
├── app.js              # ماژول مدیریت آیات و آمار
├── package.json        # تنظیمات پروژه
├── .env.example        # نمونه فایل تنظیمات
├── data.json           # ذخیره‌سازی آمار (ایجاد خودکار)
├── reminders.json      # ذخیره‌سازی یادآورها (ایجاد خودکار)
└── README.md           # راهنمای پروژه
```

## 🎯 دستورات بات

### دکمه‌های اصلی:
- **📖 نمایش آیه**: دریافت آیه بعدی از سوره فتح
- **📊 آمار کلی**: نمایش آمار کلی و روزانه
- **⏰ تنظیم یادآوری**: تنظیم یادآوری روزانه
- **❓ راهنما**: نمایش راهنمای استفاده

### دستورات خاص:
- `/start` - شروع بات و خوش‌آمدگویی
- `/stats` - نمایش آمار تفصیلی

## ⚙️ تنظیمات یادآوری

برای تنظیم یادآوری روزانه:

1. روی دکمه "⏰ تنظیم یادآوری" کلیک کنید
2. ساعت مورد نظر را به فرمت `HH:MM` ارسال کنید (مثل `08:30`)
3. برای خاموش کردن، کلمه "خاموش" را ارسال کنید

**نکته**: اگر یادآوری قبلی وجود داشته باشد، یادآوری جدید جایگزین آن می‌شود.

## 📊 آمار و گزارش‌ها

### آمار کلی:
- تعداد ختم‌های کامل شده
- کل آیات خوانده شده
- آیات خوانده شده توسط هر کاربر
- پیشرفت ختم جاری

### آمار روزانه:
- ختم‌های کامل شده امروز
- آیات خوانده شده امروز
- تاریخ به شمسی

## 🛠️ توسعه و تست

### اجرای تست‌ها:
```bash
npm test
```

### نمایش آمار فعلی:
```bash
npm run stats
```

### اجرای در حالت توسعه:
```bash
npm run dev
```

## 📋 فایل‌های داده

### data.json
ذخیره‌سازی آمار کلی:
- آیه فعلی
- تعداد ختم‌ها
- آمار کاربران
- آمار روزانه

### reminders.json
ذخیره‌سازی یادآوری‌ها:
- ساعت یادآوری هر کاربر
- وضعیت فعال/غیرفعال
- تاریخ تنظیم

## 🔧 عیب‌یابی

### مشکلات رایج:

1. **بات پاسخ نمی‌دهد**
   - توکن بات را بررسی کنید
   - اتصال اینترنت را چک کنید

2. **یادآوری کار نمی‌کند**
   - فرمت ساعت را بررسی کنید (HH:MM)
   - لاگ‌های کنسول را چک کنید

3. **آمار ذخیره نمی‌شود**
   - مجوزهای نوشتن فایل را بررسی کنید
   - فضای دیسک را چک کنید

## 📝 لاگ‌ها

بات لاگ‌های مفیدی در کنسول نمایش می‌دهد:
- درخواست‌های کاربران
- تنظیم یادآوری‌ها
- آمار startup
- خطاهای سیستم

## 🤝 مشارکت

برای مشارکت در توسعه:

1. Fork کنید
2. شاخه جدید ایجاد کنید (`git checkout -b feature/amazing-feature`)
3. تغییرات را commit کنید (`git commit -m 'Add some amazing feature'`)
4. Push کنید (`git push origin feature/amazing-feature`)
5. Pull Request باز کنید


**🤲 برای سلامتی و تعجیل در فرج امام زمان (عج) صلوات**

## 📞 پشتیبانی

در صورت بروز مشکل یا سوال:
- Issue جدید در GitHub باز کنید
- مستندات را مطالعه کنید
- لاگ‌های خطا را بررسی کنید

---

**💚 با آرزوی فتح و پیروزی**